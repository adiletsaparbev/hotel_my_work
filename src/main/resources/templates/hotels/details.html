<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${hotel.name}">Инфо об отеле</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="container py-4">
<header th:insert="~{block/header :: header}"></header>

<h2 th:text="${hotel.name}"></h2>

<div th:if="${message}" class="alert alert-success" th:text="${message}"></div>

<p><b>Город:</b> <span th:text="${hotel.city}"></span></p>
<p><b>Адрес:</b> <span th:text="${hotel.address}"></span></p>
<p><b>Телефон:</b> <span th:text="${hotel.phone}"></span></p>
<p><b>Описание:</b> <span th:text="${hotel.description}"></span></p>
<h4>Комнаты</h4>
<ul>
    <li th:each="room : ${hotel.rooms}" th:text="'Комната №' + ${room.roomNumber}"></li>
</ul>

<h5>Добавить существующую комнату</h5>
<form th:action="@{|/hotels/${hotel.hotelId}/add-room|}" method="post">
    <select name="roomId" class="form-select">
        <option th:each="r : ${allRooms}" th:value="${r.roomId}" th:text="'Комната №' + ${r.roomNumber}"></option>
    </select>
    <button type="submit" class="btn btn-primary mt-2">Добавить</button>
</form>

<h4>Комнаты</h4>
<ul class="list-group">
    <li th:each="room : ${hotel.rooms}" class="list-group-item d-flex justify-content-between align-items-center">
        <span th:text="'Комната №' + ${room.roomNumber}"></span>
        <form th:action="@{|/hotels/${hotel.hotelId}/remove-room/${room.roomId}|}" method="post" class="m-0">
            <button type="submit" class="btn btn-danger btn-sm">Удалить из отеля</button>
        </form>
    </li>
</ul>

<hr>
<form th:action="@{|/hotels/${hotel.hotelId}/delete|}" method="post">
    <button type="submit" class="btn btn-danger">Удалить отель</button>
</form>

</body>
</html>
